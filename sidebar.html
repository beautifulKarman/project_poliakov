<!-- Сайдбар із кімнатами (показується лише після авторизації) -->
<template x-if="accessToken">
  <div class="sidebar p-4 bg-gray-50 border-r border-gray-200 h-full flex flex-col">
    
    <!-- Заголовок -->
    <h2 class="text-xl font-bold mb-3 text-gray-700">Rooms</h2>

    <!-- Список кімнат -->
    <ul class="room-list flex-1 space-y-1 overflow-y-auto">
      <template x-if="rooms.length === 0">
        <p class="text-sm text-gray-500 text-center py-2">No rooms yet</p>
      </template>

      <template x-for="room in rooms" :key="room.roomId">
        <li
          @click="switchRoom(room.roomId)"
          :class="{
            'bg-blue-100 font-medium': room.roomId === roomId,
            'hover:bg-gray-200': room.roomId !== roomId
          }"
          class="cursor-pointer px-3 py-2 rounded transition"
          x-text="room.name || room.roomId">
        </li>
      </template>
    </ul>

    <!-- Створення кімнати -->
    <div class="mt-4 border-t pt-3">
      <h3 class="text-sm font-semibold text-gray-600 mb-2">Create new room</h3>

      <input
        x-model="newRoomName"
        placeholder="Room name"
        class="border p-2 w-full mb-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">

      <input
        x-model="inviteUser"
        placeholder="Invite @user:matrix.org (optional)"
        class="border p-2 w-full mb-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400">

      <button
        @click="createRoom()"
        class="bg-indigo-500 text-white p-2 w-full rounded hover:bg-indigo-600 transition">
        Create Room
      </button>

      <p x-show="newRoomId" class="text-sm text-gray-600 mt-2 break-all">
        Room ID: <span x-text="newRoomId"></span>
      </p>
    </div>
  </div>
</template>
